<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tierra din√°mica seg√∫n el d√≠a del a√±o</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    width: 100vw;
    background: transparent;
    overflow: hidden;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .earth {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-image: url("https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg");
    background-size: cover;
    background-position: center;
    box-shadow:
      0 0 20px rgba(100, 200, 255, 0.5),
      0 0 40px rgba(0, 150, 255, 0.3),
      0 0 60px rgba(0, 180, 255, 0.2);
    filter: saturate(1.1);
    transition: left 1s ease-out;
    overflow: hidden;

    /* üßº Recorte para eliminar contorno oscuro */
    -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%);
    mask-image: radial-gradient(circle, black 60%, transparent 100%);
    -webkit-mask-size: cover;
    mask-size: cover;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    clip-path: circle(45% at 50% 50%);
  }

  .earth::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background-image: url("https://upload.wikimedia.org/wikipedia/commons/1/1f/Whole_world_-_clouds_map_%28flat%29.jpg");
    background-size: 250% 250%;
    background-repeat: repeat;
    opacity: 0.35;
    mix-blend-mode: screen;
    animation: driftClouds 120s linear infinite;
  }

  .earth::after {
    content: "";
    position: absolute;
    inset: -20%;
    border-radius: 50%;
    background: radial-gradient(circle at 50% 50%, rgba(120, 200, 255, 0.5) 0%, rgba(120, 200, 255, 0.3) 40%, transparent 80%);
    filter: blur(12px);
    opacity: 0.8;
    z-index: -1;
    pointer-events: none;
  }

  .light-overlay {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: linear-gradient(90deg, rgba(0,0,0,0.6) 0%, transparent 45%, rgba(255,255,255,0.25) 70%, rgba(255,255,255,0.1) 100%);
    mix-blend-mode: overlay;
    pointer-events: none;
  }

  @keyframes driftClouds {
    0% { background-position: 0% 0%; }
    100% { background-position: 200% 0%; }
  }
</style>
</head>
<body>

<div class="earth" id="earth">
  <div class="light-overlay"></div>
</div>

<script>
  function moveEarth() {
    const now = new Date();
    const year = now.getFullYear();
    const isLeap = new Date(year, 1, 29).getDate() === 29;
    let dayOfYear = Math.floor((now - new Date(year, 0, 0)) / 86400000);

    if (isLeap && now.getMonth() === 1 && now.getDate() === 29) {
      dayOfYear = 59;
    }

    const totalDays = isLeap ? 366 : 365;
    const progress = dayOfYear / totalDays;

    const earth = document.getElementById("earth");
    earth.style.left = `${5 + 90 * progress}%`;
  }

  document.addEventListener("DOMContentLoaded", () => {
    moveEarth();
    setInterval(moveEarth, 60 * 60 * 1000);
  });
</script>

</body>
</html>
