<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <style>
    @font-face {
      font-family: 'Futura';
      src: local('Futura'),
           url('https://fonts.cdnfonts.com/s/16110/Futura.woff') format('woff');
    }

    body {
      margin: 0;
      background: transparent;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    /* --- Contenedor de la luna --- */
    .moon-container {
      position: relative;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, #ddd 70%, #999 100%);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
      overflow: hidden;
    }

    /* --- Sombra lunar difuminada --- */
    .moon-shadow {
      position: absolute;
      top: 0;
      left: 0;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(10,10,10,0.8) 0%, rgba(10,10,10,0.6) 50%, rgba(10,10,10,0.2) 100%);
      transition: all 1s ease-in-out;
    }
  </style>
</head>
<body>
  <div class="moon-container">
    <div class="moon-shadow"></div>
  </div>

  <script>
    function getMoonPhase() {
      const now = new Date();
      const synodicMonth = 29.53058867;
      const knownNewMoon = new Date('2024-01-11T11:57:00Z');
      const diff = (now - knownNewMoon) / (1000 * 60 * 60 * 24);
      const phase = diff % synodicMonth;
      return phase / synodicMonth;
    }

    const phase = getMoonPhase();
    const shadow = document.querySelector('.moon-shadow');

    const offset = (phase <= 0.5)
      ? 60 * (phase * 2)
      : 60 * (2 - phase * 2);

    if (phase < 0.5) {
      shadow.style.clipPath = `inset(0 ${offset}px 0 0)`;
    } else {
      shadow.style.clipPath = `inset(0 0 0 ${offset}px)`;
    }

    console.log(`ðŸŒ” Fase lunar: ${(phase*100).toFixed(1)}%`);
  </script>
</body>
</html>
